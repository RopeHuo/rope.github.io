(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00577c77"],{1414:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"face_landmark_detection"},[n("div",{staticClass:"option"},[n("div",[n("label",[e._v("更换图片")]),n("input",{attrs:{type:"file",accept:"image/png, image/jpeg"},on:{change:function(t){return e.fnChange(t)}}})]),n("div",[n("label",[e._v("边框Or面部轮廓")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.withBoxes,expression:"withBoxes"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.withBoxes)?e._i(e.withBoxes,null)>-1:e.withBoxes},on:{change:function(t){var n=e.withBoxes,a=t.target,s=!!a.checked;if(Array.isArray(n)){var i=null,c=e._i(n,i);a.checked?c<0&&(e.withBoxes=n.concat([i])):c>-1&&(e.withBoxes=n.slice(0,c).concat(n.slice(c+1)))}else e.withBoxes=s}}})]),n("div",[n("label",[e._v("选择算法模型")]),n("label",[e._v(" ssdMobilenetv1 "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.nets,expression:"nets"}],attrs:{type:"radio",value:"ssdMobilenetv1"},domProps:{checked:e._q(e.nets,"ssdMobilenetv1")},on:{change:function(t){e.nets="ssdMobilenetv1"}}})]),n("label",[e._v(" tinyFaceDetector "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.nets,expression:"nets"}],attrs:{type:"radio",value:"tinyFaceDetector"},domProps:{checked:e._q(e.nets,"tinyFaceDetector")},on:{change:function(t){e.nets="tinyFaceDetector"}}})]),n("label",[e._v(" mtcnn "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.nets,expression:"nets"}],attrs:{type:"radio",value:"mtcnn"},domProps:{checked:e._q(e.nets,"mtcnn")},on:{change:function(t){e.nets="mtcnn"}}})])])]),e._m(0)])},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"see"},[n("img",{attrs:{id:"myImg",src:"images/xxm/xxm03.jpg"}}),n("canvas",{attrs:{id:"myCanvas"}})])}],i=(n("96cf"),n("1da1")),c=n("ab39"),r={name:"FaceLandmarkDetection",data:function(){return{nets:"ssdMobilenetv1",options:null,withBoxes:!0,imgEl:null,canvasEl:null}},watch:{nets:function(e){var t=this;this.nets=e,this.fnInit().then((function(){return t.fnRun()}))},withBoxes:function(e){this.withBoxes=e,this.fnRun()}},mounted:function(){var e=this;this.$nextTick((function(){e.fnInit().then((function(){return e.fnRun()}))}))},methods:{fnInit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["nets"][e.nets].loadFromUri("/models");case 2:return t.next=4,c["loadFaceLandmarkModel"]("/models");case 4:t.t0=e.nets,t.next="ssdMobilenetv1"===t.t0?7:"tinyFaceDetector"===t.t0?9:"mtcnn"===t.t0?11:13;break;case 7:return e.options=new c["SsdMobilenetv1Options"]({minConfidence:.5}),t.abrupt("break",13);case 9:return e.options=new c["TinyFaceDetectorOptions"]({inputSize:512,scoreThreshold:.5}),t.abrupt("break",13);case 11:return e.options=new c["MtcnnOptions"]({minFaceSize:20,scaleFactor:.709}),t.abrupt("break",13);case 13:e.imgEl=document.getElementById("myImg"),e.canvasEl=document.getElementById("myCanvas");case 15:case"end":return t.stop()}}),t)})))()},fnRun:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["detectAllFaces"](e.imgEl,e.options).withFaceLandmarks();case 2:n=t.sent,c["matchDimensions"](e.canvasEl,e.imgEl),a=c["resizeResults"](n,e.imgEl),e.withBoxes?c["draw"].drawDetections(e.canvasEl,a):c["draw"].drawFaceLandmarks(e.canvasEl,a);case 6:case"end":return t.stop()}}),t)})))()},fnChange:function(e){var t=this;e.target.files.length&&c["bufferToImage"](e.target.files[0]).then((function(e){t.imgEl.src=e.src,t.canvasEl.getContext("2d").clearRect(0,0,t.canvasEl.width,t.canvasEl.height),t.fnRun()}))}}},o=r,l=(n("bc92"),n("2877")),u=Object(l["a"])(o,a,s,!1,null,"745f7584",null);t["default"]=u.exports},"6dcc":function(e,t,n){},bc92:function(e,t,n){"use strict";var a=n("6dcc"),s=n.n(a);s.a}}]);
//# sourceMappingURL=chunk-00577c77.c56080b0.js.map