(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50eff68a"],{"0d00":function(e,t,n){},"159b":function(e,t,n){var r=n("da84"),a=n("fdbc"),i=n("17c2"),o=n("9112");for(var c in a){var s=r[c],u=s&&s.prototype;if(u&&u.forEach!==i)try{o(u,"forEach",i)}catch(l){u.forEach=i}}},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach,a=n("a640"),i=n("ae40"),o=a("forEach"),c=i("forEach");e.exports=o&&c?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"25f0":function(e,t,n){"use strict";var r=n("6eeb"),a=n("825a"),i=n("d039"),o=n("ad6d"),c="toString",s=RegExp.prototype,u=s[c],l=i((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),d=u.name!=c;(l||d)&&r(RegExp.prototype,c,(function(){var e=a(this),t=String(e.source),n=e.flags,r=String(void 0===n&&e instanceof RegExp&&!("flags"in s)?o.call(e):n);return"/"+t+"/"+r}),{unsafe:!0})},"2bd4":function(e,t,n){"use strict";var r=n("0d00"),a=n.n(r);a.a},3775:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"face_recognition_more"},[n("div",{staticClass:"option"},[n("div",{staticClass:"org"},[n("label",[e._v("更换图片org")]),n("input",{attrs:{type:"file",accept:"image/png, image/jpeg"},on:{change:function(t){return e.fnChange(t,"org")}}})]),n("div",{staticClass:"det"},[n("label",[e._v("更换图片det多图")]),n("input",{attrs:{type:"file",accept:"image/png, image/jpeg",multiple:"multiple"},on:{change:function(t){return e.fnChange(t,"det")}}})]),n("div",[n("label",[e._v("选择算法模型")]),n("label",[e._v(" ssdMobilenetv1 "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.nets,expression:"nets"}],attrs:{type:"radio",value:"ssdMobilenetv1"},domProps:{checked:e._q(e.nets,"ssdMobilenetv1")},on:{change:function(t){e.nets="ssdMobilenetv1"}}})]),n("label",[e._v(" tinyFaceDetector "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.nets,expression:"nets"}],attrs:{type:"radio",value:"tinyFaceDetector"},domProps:{checked:e._q(e.nets,"tinyFaceDetector")},on:{change:function(t){e.nets="tinyFaceDetector"}}})]),n("label",[e._v(" mtcnn "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.nets,expression:"nets"}],attrs:{type:"radio",value:"mtcnn"},domProps:{checked:e._q(e.nets,"mtcnn")},on:{change:function(t){e.nets="mtcnn"}}})])])]),e._m(0)])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"see"},[n("div",{staticClass:"org"},[n("img",{attrs:{id:"orgImg",src:"images/xxm/xxm03.jpg"}}),n("canvas",{attrs:{id:"orgCanvas"}})]),n("hr"),n("div",{attrs:{id:"detBox"}})])}],i=(n("4160"),n("d3b7"),n("25f0"),n("159b"),n("96cf"),n("1da1")),o=n("ab39"),c={name:"FaceRecognitionMore",data:function(){return{nets:"ssdMobilenetv1",options:null,faceMatcher:null,orgImgEl:null,orgCanvasEl:null,detBoxEl:null}},watch:{nets:function(e){this.nets=e,document.getElementById("detBox").innerHTML="",this.fnInit()}},mounted:function(){var e=this;this.$nextTick((function(){e.fnInit()}))},methods:{fnInit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["nets"][e.nets].loadFromUri("/models");case 2:return t.next=4,o["loadFaceLandmarkModel"]("/models");case 4:return t.next=6,o["loadFaceRecognitionModel"]("/models");case 6:t.t0=e.nets,t.next="ssdMobilenetv1"===t.t0?9:"tinyFaceDetector"===t.t0?11:"mtcnn"===t.t0?13:15;break;case 9:return e.options=new o["SsdMobilenetv1Options"]({minConfidence:.5}),t.abrupt("break",15);case 11:return e.options=new o["TinyFaceDetectorOptions"]({inputSize:512,scoreThreshold:.5}),t.abrupt("break",15);case 13:return e.options=new o["MtcnnOptions"]({minFaceSize:20,scaleFactor:.709}),t.abrupt("break",15);case 15:return e.orgImgEl=document.getElementById("orgImg"),e.orgCanvasEl=document.getElementById("orgCanvas"),e.detBoxEl=document.getElementById("detBox"),t.next=20,e.fnRunOrg();case 20:return t.next=22,e.fnRunDet();case 22:case"end":return t.stop()}}),t)})))()},fnRunOrg:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["detectAllFaces"](e.orgImgEl,e.options).withFaceLandmarks().withFaceDescriptors();case 2:if(n=t.sent,n.length){t.next=6;break}return e.faceMatcher=null,t.abrupt("return");case 6:return t.next=8,new o["FaceMatcher"](n);case 8:e.faceMatcher=t.sent,o["matchDimensions"](e.orgCanvasEl,e.orgImgEl),r=o["resizeResults"](n,e.orgImgEl),r.forEach((function(t){var n=t.detection,r=t.descriptor,a=e.faceMatcher.findBestMatch(r),i=a.label;new o["draw"].DrawBox(n.box,{label:i}).draw(e.orgCanvasEl)}));case 12:case"end":return t.stop()}}),t)})))()},fnRunDet:function(){var e=arguments,t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a,i,c,s,u,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.length>0&&void 0!==e[0]?e[0]:0,a=e.length>1&&void 0!==e[1]?e[1]:"images/cp03.jpg",t.faceMatcher){n.next=4;break}return n.abrupt("return");case 4:return i=document.createElement("IMG"),i.id="detImg"+r,i.src=a,c=document.createElement("CANVAS"),c.id="detCanvas"+r,s=document.createElement("DIV"),s.className="det",s.appendChild(i),s.appendChild(c),t.detBoxEl.appendChild(s),n.next=16,o["detectAllFaces"](i,t.options).withFaceLandmarks().withFaceDescriptors();case 16:if(u=n.sent,u.length){n.next=19;break}return n.abrupt("return");case 19:o["matchDimensions"](c,i),l=o["resizeResults"](u,i),l.forEach((function(e){var n=e.detection,r=e.descriptor,a=t.faceMatcher.findBestMatch(r).toString();new o["draw"].DrawBox(n.box,{label:a}).draw(c)}));case 22:case"end":return n.stop()}}),n)})))()},fnChange:function(e,t){var n=this;e.target.files.length&&(this.detBoxEl.innerHTML="","org"===t?o["bufferToImage"](e.target.files[0]).then(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n.orgImgEl.src=t.src,n.orgCanvasEl.getContext("2d").clearRect(0,0,n.orgCanvasEl.width,n.orgCanvasEl.height),n.fnRunOrg().then((function(){return n.fnRunDet()}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):e.target.files.forEach((function(e,t){o["bufferToImage"](e).then((function(e){n.fnRunDet(t,e.src)}))})))}}},s=c,u=(n("2bd4"),n("2877")),l=Object(u["a"])(s,r,a,!1,null,null,null);t["default"]=l.exports},4160:function(e,t,n){"use strict";var r=n("23e7"),a=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},"65f0":function(e,t,n){var r=n("861d"),a=n("e8b5"),i=n("b622"),o=i("species");e.exports=function(e,t){var n;return a(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!a(n.prototype)?r(n)&&(n=n[o],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ae40:function(e,t,n){var r=n("83ab"),a=n("d039"),i=n("5135"),o=Object.defineProperty,c={},s=function(e){throw e};e.exports=function(e,t){if(i(c,e))return c[e];t||(t={});var n=[][e],u=!!i(t,"ACCESSORS")&&t.ACCESSORS,l=i(t,0)?t[0]:s,d=i(t,1)?t[1]:void 0;return c[e]=!!n&&!a((function(){if(u&&!r)return!0;var e={length:-1};u?o(e,1,{enumerable:!0,get:s}):e[1]=1,n.call(e,l,d)}))}},b727:function(e,t,n){var r=n("0366"),a=n("44ad"),i=n("7b0b"),o=n("50c4"),c=n("65f0"),s=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,l=4==e,d=6==e,f=5==e||d;return function(g,m,p,h){for(var v,b,x=i(g),E=a(x),w=r(m,p,3),y=o(E.length),C=0,S=h||c,M=t?S(g,y):n?S(g,0):void 0;y>C;C++)if((f||C in E)&&(v=E[C],b=w(v,C,x),e))if(t)M[C]=b;else if(b)switch(e){case 3:return!0;case 5:return v;case 6:return C;case 2:s.call(M,v)}else if(l)return!1;return d?-1:u||l?l:M}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-50eff68a.78ddaf1b.js.map