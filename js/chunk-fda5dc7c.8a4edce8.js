(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fda5dc7c"],{"159b":function(e,t,n){var r=n("da84"),a=n("fdbc"),i=n("17c2"),c=n("9112");for(var o in a){var s=r[o],u=s&&s.prototype;if(u&&u.forEach!==i)try{c(u,"forEach",i)}catch(l){u.forEach=i}}},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach,a=n("a640"),i=n("ae40"),c=a("forEach"),o=i("forEach");e.exports=c&&o?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},4160:function(e,t,n){"use strict";var r=n("23e7"),a=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},"65f0":function(e,t,n){var r=n("861d"),a=n("e8b5"),i=n("b622"),c=i("species");e.exports=function(e,t){var n;return a(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!a(n.prototype)?r(n)&&(n=n[c],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},ae40:function(e,t,n){var r=n("83ab"),a=n("d039"),i=n("5135"),c=Object.defineProperty,o={},s=function(e){throw e};e.exports=function(e,t){if(i(o,e))return o[e];t||(t={});var n=[][e],u=!!i(t,"ACCESSORS")&&t.ACCESSORS,l=i(t,0)?t[0]:s,f=i(t,1)?t[1]:void 0;return o[e]=!!n&&!a((function(){if(u&&!r)return!0;var e={length:-1};u?c(e,1,{enumerable:!0,get:s}):e[1]=1,n.call(e,l,f)}))}},b727:function(e,t,n){var r=n("0366"),a=n("44ad"),i=n("7b0b"),c=n("50c4"),o=n("65f0"),s=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,l=4==e,f=6==e,d=5==e||f;return function(v,m,p,h){for(var b,g,x=i(v),y=a(x),E=r(m,p,3),S=c(y.length),L=0,w=h||o,C=t?w(v,S):n?w(v,0):void 0;S>L;L++)if((d||L in y)&&(b=y[L],g=E(b,L,x),e))if(t)C[L]=g;else if(g)switch(e){case 3:return!0;case 5:return b;case 6:return L;case 2:s.call(C,b)}else if(l)return!1;return f?-1:u||l?l:C}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},f735:function(e,t,n){"use strict";var r=n("fa01"),a=n.n(r);a.a},fa01:function(e,t,n){},fc0d:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"face_extraction"},[n("div",{staticClass:"option"},[n("div",[n("label",[e._v("更换图片")]),n("input",{attrs:{type:"file",accept:"image/png, image/jpeg"},on:{change:function(t){return e.fnChange(t)}}})]),n("div",[n("label",[e._v("选择算法模型")]),n("label",[e._v(" ssdMobilenetv1 "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.nets,expression:"nets"}],attrs:{type:"radio",value:"ssdMobilenetv1"},domProps:{checked:e._q(e.nets,"ssdMobilenetv1")},on:{change:function(t){e.nets="ssdMobilenetv1"}}})]),n("label",[e._v(" tinyFaceDetector "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.nets,expression:"nets"}],attrs:{type:"radio",value:"tinyFaceDetector"},domProps:{checked:e._q(e.nets,"tinyFaceDetector")},on:{change:function(t){e.nets="tinyFaceDetector"}}})]),n("label",[e._v(" mtcnn "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.nets,expression:"nets"}],attrs:{type:"radio",value:"mtcnn"},domProps:{checked:e._q(e.nets,"mtcnn")},on:{change:function(t){e.nets="mtcnn"}}})])])]),e._m(0)])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"see"},[n("img",{attrs:{id:"myImg",src:"images/xxm/xxm03.jpg"}}),n("p",[e._v("截取出的人脸图像：")]),n("div",{attrs:{id:"myCanvasBox"}})])}],i=(n("4160"),n("159b"),n("96cf"),n("1da1")),c=n("ab39"),o={name:"FaceExtraction",data:function(){return{nets:"ssdMobilenetv1",options:null,imgEl:null,canvasBoxEl:null}},watch:{nets:function(e){var t=this;this.nets=e,this.fnInit().then((function(){return t.fnRun()}))}},mounted:function(){var e=this;this.$nextTick((function(){e.fnInit().then((function(){return e.fnRun()}))}))},methods:{fnInit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["nets"][e.nets].loadFromUri("/models");case 2:t.t0=e.nets,t.next="ssdMobilenetv1"===t.t0?5:"tinyFaceDetector"===t.t0?7:"mtcnn"===t.t0?9:11;break;case 5:return e.options=new c["SsdMobilenetv1Options"]({minConfidence:.5}),t.abrupt("break",11);case 7:return e.options=new c["TinyFaceDetectorOptions"]({inputSize:512,scoreThreshold:.5}),t.abrupt("break",11);case 9:return e.options=new c["MtcnnOptions"]({minFaceSize:20,scaleFactor:.709}),t.abrupt("break",11);case 11:e.imgEl=document.getElementById("myImg"),e.canvasBoxEl=document.getElementById("myCanvasBox");case 13:case"end":return t.stop()}}),t)})))()},fnRun:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["detectAllFaces"](e.imgEl,e.options);case 2:return n=t.sent,t.next=5,c["extractFaces"](e.imgEl,n);case 5:r=t.sent,r.forEach((function(t){return e.canvasBoxEl.appendChild(t)})),e.canvasBoxEl.appendChild(document.createElement("HR"));case 8:case"end":return t.stop()}}),t)})))()},fnChange:function(e){var t=this;e.target.files.length&&c["bufferToImage"](e.target.files[0]).then((function(e){t.canvasBoxEl.innerHTML="",t.imgEl.src=e.src,t.fnRun()}))}}},s=o,u=(n("f735"),n("2877")),l=Object(u["a"])(s,r,a,!1,null,"ea7b9d04",null);t["default"]=l.exports},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-fda5dc7c.8a4edce8.js.map